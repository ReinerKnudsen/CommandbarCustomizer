Screen3 As screen:
    OnVisible: |-
        =ClearCollect(
            colMenue,
            {
                ItemDisplayName: "",
                ItemKey: "",
                ItemParentKey: "",
                ItemIconName: "",
                ItemIconColor: ColorValue("#000000"),
                ItemIconOnly: false
            }
        );
        UpdateContext({ bol_AddNewParent: true});
        If( 
            !IsEmpty( colMenue),
            UpdateContext({ bol_AddNewParent: false})
        ); 

    grpItemDisplayName As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =5

        labItemDisplayName As label:
            AutoHeight: =true
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =16
            Text: ="Item Display Name"
            Width: =640
            Y: =64
            ZIndex: =2

        txtItemDisplayName As text:
            BorderColor: =RGBA(153, 153, 153, 1)
            BorderThickness: =1
            Default: =""
            FocusedBorderThickness: =2
            Height: =46
            HintText: ="ItemDisplayName"
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            Size: =16
            Width: =Parent.Width-Self.X-20
            X: =20
            Y: =101
            ZIndex: =3

        lablErrItemDisplayName As label:
            Align: =Align.Right
            Color: =RGBA(246, 88, 16, 1)
            FontWeight: =FontWeight.Semibold
            Height: =30
            PaddingRight: =20
            Size: =12
            Text: ="Error message"
            Visible: =false
            Width: =640
            Y: =147
            ZIndex: =4

    grpItemKey As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =8

        labItemKey As label:
            AutoHeight: =true
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =16
            Text: ="Item Key"
            Width: =640
            Y: =177
            ZIndex: =5

        txtItemKey As text:
            BorderColor: =RGBA(153, 153, 153, 1)
            BorderThickness: =1
            Default: =""
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FocusedBorderThickness: =2
            Height: =46
            HintText: ="ItemKey"
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            Size: =16
            Width: =Parent.Width-Self.X-20
            X: =20
            Y: =214
            ZIndex: =6

        labErrItemKey As label:
            Align: =Align.Right
            Color: =RGBA(246, 88, 16, 1)
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FontWeight: =FontWeight.Semibold
            Height: =30
            PaddingRight: =20
            Size: =12
            Text: ="Error message"
            Visible: =false
            Width: =640
            Y: =260
            ZIndex: =7

    Container1 As groupContainer.horizontalAutoLayoutContainer:
        Fill: |-
            =ColorValue("#8ab21d")
        Height: =51
        LayoutMode: =LayoutMode.Auto
        Width: =640
        ZIndex: =12

        Image1 As image:
            Fill: =Parent.Fill
            Height: =Parent.Height
            Image: ='bear (1)'
            LayoutMinHeight: =
            LayoutMinWidth: =Self.Height
            PaddingBottom: =5
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =5
            Width: =Self.Height + 20
            ZIndex: =1

        Label1 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FillPortions: =1
            FontWeight: =FontWeight.Semibold
            Height: =Parent.Height
            LayoutMinHeight: =70
            LayoutMinWidth: =200
            Size: =18
            Text: ="Command Bar Designer"
            Width: =560
            ZIndex: =2

        Image2 As image:
            Fill: =Parent.Fill
            Height: =Parent.Height
            Image: =settings
            OnSelect: |-
                =ClearCollect(
                    colMenue,
                    {
                        ItemDisplayName: "Neu",
                        ItemKey: "new",
                        ItemParentKey: "",
                        ItemIconName: "CirclePlus",
                        ItemIconColor: ColorValue("#000000"),
                        ItemIconOnly: false,
                        ItemDivider: false,
                        ItemTopDivider: false,
                        ItemHeader: false,
                        ItemFarItem: false,
                        ItemOverflow: false,
                        ItemSplit: false,
                        ItemChecked: false,
                        ItemVisible: true,
                        ItemEnabled: true
                    },
                    {
                        ItemDisplayName: "Datei",
                        ItemKey: "file",
                        ItemParentKey: "new",
                        ItemIconName: "TextDocument",
                        ItemIconColor: ColorValue("#000000"),
                        ItemIconOnly: false,
                        ItemDivider: false,
                        ItemTopDivider: false,
                        ItemHeader: false,
                        ItemFarItem: false,
                        ItemOverflow: false,
                        ItemSplit: false,
                        ItemChecked: false,
                        ItemVisible: true,
                        ItemEnabled: true
                    },
                    {
                        ItemDisplayName: "E-Mail",
                        ItemKey: "email",
                        ItemParentKey: "new",
                        ItemIconName: "Mail",
                        ItemIconColor: ColorValue("#000000"),
                        ItemIconOnly: false,
                        ItemDivider: false,
                        ItemTopDivider: false,
                        ItemHeader: false,
                        ItemFarItem: false,
                        ItemOverflow: false,
                        ItemSplit: false,
                        ItemChecked: false,
                        ItemVisible: true,
                        ItemEnabled: true
                    },
                    {
                        ItemDisplayName: "Exit",
                        ItemKey: "exit",
                        ItemParentKey: "",
                        ItemIconName: "RemoveFilter",
                        ItemIconColor: ColorValue("#000000"),
                        ItemIconOnly: false,
                        ItemDivider: false,
                        ItemTopDivider: false,
                        ItemHeader: false,
                        ItemFarItem: true,
                        ItemOverflow: false,
                        ItemSplit: false,
                        ItemChecked: false,
                        ItemVisible: true,
                        ItemEnabled: true
                    }
                )
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            Width: =Self.Height+20
            ZIndex: =3

    grp_ItemParentKey As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =15

        labItemParentKey As label:
            AutoHeight: =true
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =16
            Text: ="Item Parent Key"
            Width: =640
            Y: =290
            ZIndex: =8

        txtItemParentKey As text:
            BorderColor: =RGBA(153, 153, 153, 1)
            BorderThickness: =1
            Default: =""
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FocusedBorderThickness: =2
            Height: =46
            HintText: ="Item Parent Key"
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnChange: |+
                =If(
                    !IsEmpty(
                        Filter(
                            colMenue,
                            ItemParentKey = Self.Text
                        )
                    ),
                    Reset( Self);
                    UpdateContext({ err_ItemParentKey: "The same key is already in use."});
                    SetFocus( Self),
                    UpdateContext({ err_ItemParentKey: ""})
                )
                
            Size: =16
            Visible: =bol_AddNewParent
            Width: =Parent.Width-Self.X-20
            X: =20
            Y: =327
            ZIndex: =9

        lblErrItemParentKey As label:
            Align: =Align.Right
            Color: =RGBA(246, 88, 16, 1)
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            FontWeight: =FontWeight.Semibold
            Height: =30
            PaddingRight: =20
            Size: =12
            Text: =err_ItemParentKey
            Visible: =!IsBlank( err_ItemParentKey)
            Width: =640
            Y: =373
            ZIndex: =10

        cmbSelectItemParentKey As combobox:
            Default: ={}
            DisplayFields: =["Result"]
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Height: =46
            IsSearchable: =false
            Items: |-
                =If(
                    !IsEmpty( colMenue),
                    Distinct( colMenue, ItemParentKey)
                ) 
            SearchFields: =["Result"]
            SearchItems: =[]
            SelectMultiple: =false
            Size: =16
            Visible: =!bol_AddNewParent
            Width: =600
            X: =20
            Y: =330
            ZIndex: =11

        ico_Add As icon.Add:
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Height: =28
            Icon: =Icon.Add
            OnSelect: |-
                =UpdateContext({ bol_AddNewParent: true})
            Visible: =!bol_AddNewParent
            Width: =28
            X: =592
            Y: =294
            ZIndex: =13

        ico_Search As icon.Search:
            DisplayMode: |-
                =If(
                    !IsBlankOrError( txtItemDisplayName.Text) && !IsBlankOrError( txtItemKey.Text),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Height: =28
            Icon: =Icon.Search
            OnSelect: |-
                =UpdateContext({bol_AddNewParent: false})
            Visible: =bol_AddNewParent
            Width: =28
            X: =592
            Y: =294
            ZIndex: =14

    grpItemIconName As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =18

        labItemIconName As label:
            AutoHeight: =true
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =16
            Text: ="Item Icon Name"
            Width: =640
            Y: =403
            ZIndex: =15

        txtIItemIconName As text:
            BorderColor: =RGBA(153, 153, 153, 1)
            BorderThickness: =1
            Default: =""
            FocusedBorderThickness: =2
            Height: =46
            HintText: ="ItemIconName"
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            Size: =16
            Width: =Parent.Width-Self.X-20
            X: =20
            Y: =440
            ZIndex: =16

        labErrItemIconName As label:
            Align: =Align.Right
            Color: =RGBA(246, 88, 16, 1)
            FontWeight: =FontWeight.Semibold
            Height: =30
            PaddingRight: =20
            Size: =12
            Text: ="Error message"
            Visible: =false
            Width: =640
            Y: =486
            ZIndex: =17

    grpItemIconColor As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =22

        labItemIconColor As label:
            AutoHeight: =true
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =16
            Text: ="Item Icon Color"
            Width: =640
            Y: =516
            ZIndex: =18

        txtItemIconColor As text:
            BorderColor: =RGBA(153, 153, 153, 1)
            BorderThickness: =1
            Default: =""
            Fill: =Transparent
            FocusedBorderThickness: =2
            Height: =46
            HintText: |-
                ="Hex Code without '#'"
            HoverBorderColor: =Self.BorderColor
            HoverColor: =Self.Color
            HoverFill: =Self.Fill
            OnChange: |-
                =If(
                    IsError(
                        ColorValue( "#" & Self.Text)
                    ),
                    UpdateContext({ err_ItemIconColor: "This is not a valid color code"});
                    Reset( Self);
                    SetFocus( Self),
                    UpdateContext({ err_ItemIconColor: ""})
                )
            Size: =16
            Width: =533
            X: =20
            Y: =553
            ZIndex: =19

        labErrItemIconColor As label:
            Align: =Align.Right
            Color: =RGBA(246, 88, 16, 1)
            FontWeight: =FontWeight.Semibold
            Height: =30
            PaddingRight: =20
            Size: =12
            Text: =err_ItemIconColor
            Visible: |-
                =Len( txtItemIconColor.Text) = 6 && IsError( ColorValue( "#" & txtItemIconColor.Text))
            Width: =640
            Y: =599
            ZIndex: =20

        qur_IconColorIndicator As rectangle:
            Fill: |-
                =If(
                    !IsBlank( txtItemIconColor.Text) && !IsError( ColorValue( "#" & txtItemIconColor.Text)),
                    ColorValue( "#" & txtItemIconColor.Text),
                    White
                )
            Height: =46
            Width: =48
            X: =571
            Y: =553
            ZIndex: =21

    but_Save As button:
        Fill: |-
            =ColorValue( "#8ab21d")
        Height: =52
        OnSelect: |-
            =If(
                And(
                    !IsBlank( txtItemDisplayName.Text),
                    !IsBlank( txtItemKey.Text)
                ),
                Collect(
                    colMenue,
                    {
                        ItemDisplayName: txtItemDisplayName.Text,
                        ItemKey: txtItemKey.Text,
                        ItemParentKey: txtItemParentKey.Text
                    }
            )
        Size: =24
        Text: ="Save"
        Width: =186
        X: =433
        Y: =1025
        ZIndex: =33

    Group4 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =33

        tgl_ItemIcononly As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemIconOnly"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemIconOnly"
            Width: =230
            X: =19
            Y: =650
            ZIndex: =22

        tgl_ItemOverFlow As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemOverFlow"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemOverFlow"
            Width: =230
            X: =19
            Y: =830
            ZIndex: =23

        tgl_ItemEnabled As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            Default: =true
            FalseText: ="ItemEnabled"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemEnabled"
            Width: =230
            X: =19
            Y: =710
            ZIndex: =24

        tgl_ItemVisibile As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            Default: =true
            FalseText: ="ItemVisíble"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemVisible"
            Width: =230
            X: =361
            Y: =710
            ZIndex: =25

        tgl_ItemEnabled_1 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemChecked"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemChecked"
            Width: =230
            X: =19
            Y: =770
            ZIndex: =26

        tgl_ItemEnabled_2 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemSplit"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemSplit"
            Width: =230
            X: =361
            Y: =770
            ZIndex: =27

        tgl_ItemOverFlow_1 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemFarItem"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemFarItem"
            Width: =230
            X: =361
            Y: =830
            ZIndex: =28

        tgl_ItemOverFlow_2 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemHeader"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemHeader"
            Width: =230
            X: =361
            Y: =650
            ZIndex: =29

        tgl_ItemOverFlow_3 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemDivider"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemDivider"
            Width: =230
            X: =19
            Y: =890
            ZIndex: =30

        tgl_ItemOverFlow_4 As toggleSwitch:
            Color: =If( Self.Value = true, clr_Enabled, clr_Disabled)
            FalseText: ="ItemTopDivider"
            Height: =30
            Size: =16
            TrueFill: =RGBA(127, 178, 57, 1)
            TrueText: ="ItemTopDivider"
            Width: =230
            X: =361
            Y: =890
            ZIndex: =31

        Rectangle4 As rectangle:
            Fill: =RGBA(128, 130, 133, 1)
            Height: =270
            Width: =1
            X: =304
            Y: =649
            ZIndex: =32

    but_Reset As button:
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(204, 204, 204, 1)
        Height: =52
        Size: =24
        Text: ="Reset"
        Width: =186
        X: =19
        Y: =1025
        ZIndex: =34

